include headmenu.pug

h1.heading Edit Item
br
br
div.addItemForm
    form.addItem(action='/db/edit_item/'+ item.id, method='POST')
        input(name='name' placeholder='Name of Item' value=item.name)
        br
        br
        br
        input(name='manufacturer', placeholder='Manufacturer' value=item.manufacturer)
        br
        br
        br
        p Unit of Storage:
        br
        select(name='storageUnit')
            option(value='Can') Can
            option(value='Bag') Bag
            option(value='Box') Box
            option(value='Bottle') Bottle
            option(value='Bucket') Bucket
        br
        br
        br
        input(name='quantity' placeholder='Quantity' value=item.quantity)
        br
        br
        br
        p Item Category:
        br
        select(name='category')
            option(value='Soup') Soup
            option(value='Entree') Entree
            option(value='Entree with Meat') Entree with Meat
            option(value='Meat Only') Meat Only
            option(value='Beans') Beans
            option(value='Cracker') Cracker
            option(value='Pasta') Pasta
            option(value='Potato') Potato
            option(value='Rice') Rice
            option(value='Vegetable') Vegetable
            option(value='Breakfast Meal') Breakfast Meal
            option(value='Breakfast Drink') Breakfast Drink
            option(value='Breakfast Meat') Breakfast Meat
            option(value='Eggs') Eggs
            option(value='Granola') Granola
            option(value='Milk') Milk
            option(value='Oatmeal') Oatmeal
            option(value='Yogurt') Yogurt
            option(value='Fruit') Fruit
            option(value='Gravy') Gravy 
            option(value='Sauce') Sauce
            option(value='Dessert') Dessert
            option(value='Spice') Spice
            option(value='Drink') Drink
        br
        br
        br
        input(name='servings', placeholder='Number of Servings per Unit' value=item.servings)
        br
        br
        input(name='unpreparedserving' placeholder='Dry Serving Size (Cups)' value=item.unpreparedserving)
        br
        br
        input(name='preparedserving' placeholder='Prepared Serving Size (Cups)' value=item.preparedserving)
        br
        br
        br
        p Expiration Date:
        br
        input(name='expiration' value=item.expiration)
        br
        br
        br
        p Additional Details
        br
        textarea(name='info', cols = '75' rows='10' value=item.info)
        br
        br
        input(type='hidden', name='editedBy', id='editedBy', value=user.name)
        button.generalButton(action='submit') Update Item
        br
script.
    let timeP = new Date();
    let zeroVar = timeP.getMinutes().toString();
    if (zeroVar.length == 1) {
        zeroVar = "0" + zeroVar;
    }
    let target = document.getElementById('editedBy');
    let message = ` on ${timeP.toDateString()} at ${timeP.getHours()}:${zeroVar}`;
    target.value += message;