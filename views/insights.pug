include headmenu.pug
h1.heading Insights
br
br
input#data(type='hidden', value=items)
div#target.heading
div#target2.heading
div#target3.heading
script.
    let allItemData = document.getElementById('data');
    let items = JSON.parse(allItemData.value);
    let target = document.getElementById('target');
    let quant = 0;
    for(i=0;i<items.length;i++) {
        quant += items[i].quantity;
    }
    target.innerHTML = 'There are ' + quant + ' items stored in the database.';
        let totalServ = 0;
        for(i=0;i<items.length;i++) {
            totalServ += (items[i].servings * items[i].quantity);
        };
    document.getElementById('target2').innerHTML = 'There are ' + totalServ + ' total servings'

            let renderedCups = 0;
        for(i=0;i<items.length;i++) {
            renderedCups += (items[i].servings * items[i].quantity * items[i].preparedserving);
        };
    document.getElementById('target3').innerHTML = 'There are ' + renderedCups + ' cups of prepared servings available. This means that if one were to prepared every meal in the the drystore at once, this is how many cups of edible food it would produce.'

    let averageCups = (renderedCups/quant);
    console.log(averageCups);